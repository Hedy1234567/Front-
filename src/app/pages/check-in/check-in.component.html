<button class="back-btn" (click)="goBack()">← Back to Home</button>

<form [formGroup]="checkInForm" (ngSubmit)="onSubmit()">
  <h1>Hotel Check-In</h1>

  <div>
    <label for="fullName">Full Name</label>
    <input id="fullName" type="text" formControlName="fullName" />
    <div class="error-message" *ngIf="formControls['fullName'].touched && formControls['fullName'].invalid">
      Name must be at least 3 characters.
    </div>
  </div>

  <div>
    <label for="email">Email</label>
    <input id="email" type="email" formControlName="email" />
    <div class="error-message" *ngIf="formControls['email'].touched && formControls['email'].invalid">
      Valid email is required.
    </div>
  </div>

  <div>
    <label for="phoneNumber">Phone Number</label>
    <input id="phoneNumber" type="text" formControlName="phoneNumber" />
    <div class="error-message" *ngIf="formControls['phoneNumber'].touched && formControls['phoneNumber'].invalid">
      Valid phone number is required.
    </div>
  </div>

  <div>
    <label for="bookingReference">Booking Reference</label>
    <input id="bookingReference" type="text" formControlName="bookingReference" />
  </div>

  <div class="date-group">
    <div>
      <label for="checkInDate">Check-in Date</label>
      <input id="checkInDate" type="date" formControlName="checkInDate" />
    </div>
    <div>
      <label for="checkOutDate">Check-out Date</label>
      <input id="checkOutDate" type="date" formControlName="checkOutDate" />
    </div>
  </div>

  <div>
    <label for="numberOfGuests">Number of Guests</label>
    <input id="numberOfGuests" type="number" formControlName="numberOfGuests" />
  </div>

  <div>
    <label for="idType">ID Type</label>
    <select id="idType" formControlName="idType">
      <option value="" disabled selected>Select ID Type</option>
      <option value="passport">Passport</option>
      <option value="driverLicense">Driver's License</option>
    </select>
  </div>

  <!-- Removed ID number field -->

  <div>
    <label for="roomType">Room Type</label>
    <select id="roomType" formControlName="roomType">
      <option value="" disabled selected>Select Room Type</option>
      <option value="single">Single</option>
      <option value="double">Double</option>
      <option value="suite">Suite</option>
    </select>
  </div>

  <fieldset>
    <legend>Preferences</legend>
    <div class="checkbox-group">
      <label><input type="checkbox" formControlName="nonSmoking" /> Non-Smoking Room</label>
      <label><input type="checkbox" formControlName="highFloor" /> High Floor</label>
      <label><input type="checkbox" formControlName="nearElevator" /> Near Elevator</label>
    </div>
  </fieldset>

  <fieldset>
    <legend>Extras</legend>
    <div class="checkbox-group">
      <label><input type="checkbox" formControlName="breakfast" /> Breakfast</label>
      <label><input type="checkbox" formControlName="airportPickup" /> Airport Pickup</label>
      <label><input type="checkbox" formControlName="spaAccess" /> Spa Access</label>
      <label><input type="checkbox" formControlName="lateCheckout" /> Late Checkout</label>
    </div>
  </fieldset>

  <div>
    <label for="specialRequests">Special Requests</label>
    <textarea id="specialRequests" formControlName="specialRequests"></textarea>
  </div>

  <div class="terms">
    <input type="checkbox" id="agreeTerms" formControlName="agreeTerms" />
    <label for="agreeTerms">I agree to the terms and conditions</label>
  </div>

  <!-- ✅ Carte Bancaire Upload -->
  <div>
    <label for="rectoUpload">Upload Carte Recto</label>
    <input type="file" id="rectoUpload" (change)="onRectoSelected($event)" accept="image/*" />
  </div>
  <div>
    <label for="versoUpload">Upload Carte Verso</label>
    <input type="file" id="versoUpload" (change)="onVersoSelected($event)" accept="image/*" />
  </div>

  <!-- Affichage des données extraites du recto -->
  <div *ngIf="rectoText">
    <label>Données extraites (Recto):</label>
    <textarea [value]="rectoText" readonly style="width:100%;min-height:60px;"></textarea>
  </div>
  <!-- Affichage des données extraites du verso -->
  <div *ngIf="versoText">
    <label>Données extraites (Verso):</label>
    <textarea [value]="versoText" readonly style="width:100%;min-height:60px;"></textarea>
  </div>

  <button type="submit" [disabled]="checkInForm.invalid">Submit</button>
</form>
